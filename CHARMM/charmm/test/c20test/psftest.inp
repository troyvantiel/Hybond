* TEST OF PSF GENERATION
*

stream datadir.def

OPEN READ FORM UNIT 1 NAME  @0toph9.rtf
READ RTF  CARD UNIT 1
CLOSE UNIT 1
BOMLEV -2
OPEN READ FORM UNIT 2 NAME  @0param5.prm
READ PARAMETER CARD UNIT 2
CLOSE UNIT 2
BOMLEV  0

READ SEQUENCE  CARD
* PSF TEST
*
    3
PRO PRO PRO

GENERATE A  WARN SETU

READ SEQUENCE  CARD
* PSF TEST
*
    3
ALA ALA ALA

GENERATE B  WARN SETU

! NOW PLAY AROUND WITH PSFIO STUFF
OPEN WRITE CARD UNIT 40 NAME @9FOR040.DAT
WRITE PSF UNIT 40 CARD
* THIS IS THE FIRST OUTPUT OF THE PSF
*

OPEN WRITE FILE UNIT 43 NAME @9FOR043.DAT
WRITE PSF UNIT 43
* THE PSF FOR PSFTEST
*

! NOW FILL THE ARRAYS WITH OTHER JUNK
OPEN UNIT 45 READ FORM NAME @0rtftest.psf
READ PSF CARD UNIT 45
CLOSE UNIT 45

! NOW LETS GET BACK THE ORIGINAL PSF TO SEE IF IT MATCHES
OPEN READ file UNIT 43 NAME @9FOR043.DAT
READ PSF UNIT 43

! NOW PRINT IT OUT AGAIN AND DO A DIFFERENCE.
!OPEN WRITE CARD UNIT 40 NAME @9FOR040.DAT
!WRITE PSF CARD UNIT 40
!* THIS IS THE SECOND OUTPUT OF THE PSF
!*
!CLOSE UNIT 40

OPEN UNIT 44 WRITE CARD NAME @9PSFTEST.PSF
WRITE PSF CARD UNIT 44
* THE PSF FOR RTFTEST
*
STOP
